---
title: Privileged Identity Management - Azure AD
description: 使用适合于 Azure AD Privileged Identity Management 的 API 管理 Azure Active Directory 角色。
localization_priority: Priority
author: shauliu
ms.prod: microsoft-identity-platform
doc_type: conceptualPageType
ms.openlocfilehash: 5cc552fd03e795898212cb001e30603ddcdd6172
ms.sourcegitcommit: 82da4012294b046416c9ae93d2294d80dab217f6
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 11/04/2020
ms.locfileid: "48904740"
---
# <a name="privileged-identity-management---azure-ad"></a><span data-ttu-id="ab710-103">Privileged Identity Management - Azure AD</span><span class="sxs-lookup"><span data-stu-id="ab710-103">Privileged Identity Management - Azure AD</span></span>

<span data-ttu-id="ab710-104">命名空间：microsoft.graph</span><span class="sxs-lookup"><span data-stu-id="ab710-104">Namespace: microsoft.graph</span></span>

[!INCLUDE [beta-disclaimer](../../includes/beta-disclaimer.md)]

> [!IMPORTANT]
> <span data-ttu-id="ab710-105">用于管理 Azure AD 角色的 API 对于大多数租户已弃用，但使用较旧版本 Privileged Identity Management (PIM) 的少数租户除外。</span><span class="sxs-lookup"><span data-stu-id="ab710-105">The API to manage Azure AD roles is deprecated for most tenants except for a few that use an older version of Privileged Identity Management (PIM).</span></span> <span data-ttu-id="ab710-106">有关 PIM 版本的详细信息，请参阅[确定 PIM 的版本](https://docs.microsoft.com/azure/active-directory/privileged-identity-management/pim-how-to-activate-role?tabs=new#determine-your-version-of-pim)。</span><span class="sxs-lookup"><span data-stu-id="ab710-106">For more information about PIM versions, see [Determine your version of PIM](https://docs.microsoft.com/azure/active-directory/privileged-identity-management/pim-how-to-activate-role?tabs=new#determine-your-version-of-pim).</span></span> <span data-ttu-id="ab710-107">如果你使用的是新版本，并且收到 **TenantEnabledInAadRoleMigration** 错误，你可以等待，直至新 API 在 Azure AD 角色的 [unifiedRoleManagement](/graph/api/resources/unifiedroledefinition?view=graph-rest-beta) API 下可用于 PIM 功能，或者你可以使用 Azure AD 角色的 [Azure 资源](/graph/api/resources/privilegedidentitymanagement-resources?view=graph-rest-beta) API。</span><span class="sxs-lookup"><span data-stu-id="ab710-107">If you are using the new version and are recieving a **TenantEnabledInAadRoleMigration** error, you can wait until a new API is available for PIM functionality under the [unifiedRoleManagement](/graph/api/resources/unifiedroledefinition?view=graph-rest-beta) API for Azure AD roles, or you can use the [Azure Resource](/graph/api/resources/privilegedidentitymanagement-resources?view=graph-rest-beta) API for your Azure AD roles.</span></span> <span data-ttu-id="ab710-108">若要使用 **Azure 资源** API，请将 `azureResources` 替换为 `provider_id` 的 `aadRoles`，然后将租户 ID 用于 `resource_id`。</span><span class="sxs-lookup"><span data-stu-id="ab710-108">To use the **Azure resource** API, replace `azureResources` with `aadRoles` for `provider_id` and use your tenant id for `resource_id`.</span></span> <span data-ttu-id="ab710-109">建议等待新 API。</span><span class="sxs-lookup"><span data-stu-id="ab710-109">We recommend that you wait for the new API.</span></span> <span data-ttu-id="ab710-110">新 API 可用后，你将能够继续使用 **Azure 资源** API。</span><span class="sxs-lookup"><span data-stu-id="ab710-110">You will be able to continue using the **Azure resource** API after the new API is available.</span></span> <span data-ttu-id="ab710-111">Azure 门户中提供的任何新功能也将通过新 API 专门提供。</span><span class="sxs-lookup"><span data-stu-id="ab710-111">Any new features made available in the Azure portal will also be made exclusively available through the new API.</span></span> 

<span data-ttu-id="ab710-112">以下方法由 PIM 针对 Azure AD 角色提供。</span><span class="sxs-lookup"><span data-stu-id="ab710-112">The following methods are provided by PIM for Azure AD roles.</span></span> <span data-ttu-id="ab710-113">此服务构建于 OData 之上。</span><span class="sxs-lookup"><span data-stu-id="ab710-113">The service is built on top of OData.</span></span> <span data-ttu-id="ab710-114">若要筛选查询中的结果，请在 URL 中使用标准 OData ``$filter`` 表达式。</span><span class="sxs-lookup"><span data-stu-id="ab710-114">To filter the results from a query, use the standard OData ``$filter`` expressions in the URIs.</span></span>

## <a name="methods"></a><span data-ttu-id="ab710-115">方法</span><span class="sxs-lookup"><span data-stu-id="ab710-115">Methods</span></span>

| <span data-ttu-id="ab710-116">方法</span><span class="sxs-lookup"><span data-stu-id="ab710-116">Method</span></span> | <span data-ttu-id="ab710-117">返回类型</span><span class="sxs-lookup"><span data-stu-id="ab710-117">Return Type</span></span> | <span data-ttu-id="ab710-118">说明</span><span class="sxs-lookup"><span data-stu-id="ab710-118">Description</span></span> |
|:---------------|:--------|:----------|
|[<span data-ttu-id="ab710-119">列表 privilegedOperationEvent</span><span class="sxs-lookup"><span data-stu-id="ab710-119">List privilegedOperationEvent</span></span>](../api/privilegedoperationevent-list.md) | <span data-ttu-id="ab710-120">[privilegedOperationEvent](privilegedoperationevent.md) 集合</span><span class="sxs-lookup"><span data-stu-id="ab710-120">[privilegedOperationEvent](privilegedoperationevent.md) collection</span></span> |<span data-ttu-id="ab710-121">获取 privilegedOperationEvent 对象集合。</span><span class="sxs-lookup"><span data-stu-id="ab710-121">Get privilegedOperationEvent object collection.</span></span> |
|[<span data-ttu-id="ab710-122">获取 privilegedRole</span><span class="sxs-lookup"><span data-stu-id="ab710-122">Get privilegedRole</span></span>](../api/privilegedrole-get.md) |[<span data-ttu-id="ab710-123">privilegedRole</span><span class="sxs-lookup"><span data-stu-id="ab710-123">privilegedRole</span></span>](privilegedrole.md)| <span data-ttu-id="ab710-124">获取 privilegedRole 对象。</span><span class="sxs-lookup"><span data-stu-id="ab710-124">Get a privilegedRole object.</span></span>|
|[<span data-ttu-id="ab710-125">列出 privilegedRole</span><span class="sxs-lookup"><span data-stu-id="ab710-125">List privilegedRole</span></span>](../api/privilegedrole-list.md) | <span data-ttu-id="ab710-126">[privilegedRole](privilegedrole.md) 集合</span><span class="sxs-lookup"><span data-stu-id="ab710-126">[privilegedRole](privilegedrole.md) collection</span></span> |<span data-ttu-id="ab710-127">获取 privilegedRole 对象集合。</span><span class="sxs-lookup"><span data-stu-id="ab710-127">Get privilegedRole object collection.</span></span> |
|[<span data-ttu-id="ab710-128">列出角色分配</span><span class="sxs-lookup"><span data-stu-id="ab710-128">List role assignments</span></span>](../api/privilegedrole-list-assignments.md) | <span data-ttu-id="ab710-129">[privilegedRoleAssignment](privilegedroleassignment.md) 集合</span><span class="sxs-lookup"><span data-stu-id="ab710-129">[privilegedRoleAssignment](privilegedroleassignment.md) collection</span></span> |<span data-ttu-id="ab710-130">获取特定角色的 privilegedRoleAssignment 集合。</span><span class="sxs-lookup"><span data-stu-id="ab710-130">Get privilegedRoleAssignment collection for the particular role.</span></span> <span data-ttu-id="ab710-131">每个 privilegedRoleAssignment 表示为用户分配的角色。</span><span class="sxs-lookup"><span data-stu-id="ab710-131">Each privilegedRoleAssignment represents a role assignment to a user.</span></span>|
|[<span data-ttu-id="ab710-132">selfActivate</span><span class="sxs-lookup"><span data-stu-id="ab710-132">selfActivate</span></span>](../api/privilegedrole-selfactivate.md) | [<span data-ttu-id="ab710-133">privilegedRoleAssignment</span><span class="sxs-lookup"><span data-stu-id="ab710-133">privilegedRoleAssignment</span></span>](privilegedroleassignment.md) |<span data-ttu-id="ab710-134">激活分配给请求者的角色。</span><span class="sxs-lookup"><span data-stu-id="ab710-134">Activate the role that is assigned to the requestor.</span></span>|
|[<span data-ttu-id="ab710-135">selfDeactivate</span><span class="sxs-lookup"><span data-stu-id="ab710-135">selfDeactivate</span></span>](../api/privilegedrole-selfdeactivate.md) | [<span data-ttu-id="ab710-136">privilegedRoleAssignment</span><span class="sxs-lookup"><span data-stu-id="ab710-136">privilegedRoleAssignment</span></span>](privilegedroleassignment.md) |<span data-ttu-id="ab710-137">停用分配给请求者的角色。</span><span class="sxs-lookup"><span data-stu-id="ab710-137">Deactivate the role that is assigned to the requestor.</span></span>|
|[<span data-ttu-id="ab710-138">创建 privilegedRoleAssignment</span><span class="sxs-lookup"><span data-stu-id="ab710-138">Create privilegedRoleAssignment</span></span>](../api/privilegedroleassignment-post-privilegedroleassignments.md) |[<span data-ttu-id="ab710-139">privilegedRoleAssignment</span><span class="sxs-lookup"><span data-stu-id="ab710-139">privilegedRoleAssignment</span></span>](privilegedroleassignment.md)| <span data-ttu-id="ab710-140">通过发布到 privilegedRoleAssignments 集合新建 privilegedRoleAssignment（角色分配）。</span><span class="sxs-lookup"><span data-stu-id="ab710-140">Create a new privilegedRoleAssignment (role assignment) by posting to the privilegedRoleAssignments collection.</span></span>|
|[<span data-ttu-id="ab710-141">列出 privilegedRoleAssignment</span><span class="sxs-lookup"><span data-stu-id="ab710-141">List privilegedRoleAssignment</span></span>](../api/privilegedroleassignment-list.md) | <span data-ttu-id="ab710-142">[privilegedRoleAssignment](privilegedroleassignment.md) 集合</span><span class="sxs-lookup"><span data-stu-id="ab710-142">[privilegedRoleAssignment](privilegedroleassignment.md) collection</span></span> |<span data-ttu-id="ab710-143">获取 privilegedRoleAssignment 对象集合。</span><span class="sxs-lookup"><span data-stu-id="ab710-143">Get privilegedRoleAssignment object collection.</span></span> <span data-ttu-id="ab710-144">该集合包含组织的所有角色分配。</span><span class="sxs-lookup"><span data-stu-id="ab710-144">The collection contains all role assignments for the organization.</span></span> <span data-ttu-id="ab710-145">每个 privilegedRoleAssignment 表示为用户分配的角色。</span><span class="sxs-lookup"><span data-stu-id="ab710-145">Each privilegedRoleAssignment represents a role assignment to a user.</span></span> |
|[<span data-ttu-id="ab710-146">获取 privilegedRoleAssignment</span><span class="sxs-lookup"><span data-stu-id="ab710-146">Get privilegedRoleAssignment</span></span>](../api/privilegedroleassignment-get.md) | [<span data-ttu-id="ab710-147">privilegedRoleAssignment</span><span class="sxs-lookup"><span data-stu-id="ab710-147">privilegedRoleAssignment</span></span>](privilegedroleassignment.md)|<span data-ttu-id="ab710-148">获取具有指定分配 id 的 privilegedRoleAssignment 对象。</span><span class="sxs-lookup"><span data-stu-id="ab710-148">Get privilegedRoleAssignment object with the specified assignment id.</span></span> |
|[<span data-ttu-id="ab710-149">Delete privilegedRoleAssignment</span><span class="sxs-lookup"><span data-stu-id="ab710-149">Delete privilegedRoleAssignment</span></span>](../api/privilegedroleassignment-delete.md) | <span data-ttu-id="ab710-150">无。</span><span class="sxs-lookup"><span data-stu-id="ab710-150">None.</span></span> |<span data-ttu-id="ab710-151">删除 privilegedRoleAssignment 对象。</span><span class="sxs-lookup"><span data-stu-id="ab710-151">Delete privilegedRoleAssignment object.</span></span> |
|[<span data-ttu-id="ab710-152">makePermanent</span><span class="sxs-lookup"><span data-stu-id="ab710-152">makePermanent</span></span>](../api/privilegedroleassignment-makepermanent.md) | [<span data-ttu-id="ab710-153">privilegedRoleAssignment</span><span class="sxs-lookup"><span data-stu-id="ab710-153">privilegedRoleAssignment</span></span>](privilegedroleassignment.md) |<span data-ttu-id="ab710-154">将角色分配标记为永久。</span><span class="sxs-lookup"><span data-stu-id="ab710-154">Make the role assignment as permanent.</span></span> |
|[<span data-ttu-id="ab710-155">makeEligible</span><span class="sxs-lookup"><span data-stu-id="ab710-155">makeEligible</span></span>](../api/privilegedroleassignment-makeeligible.md) | [<span data-ttu-id="ab710-156">privilegedRoleAssignment</span><span class="sxs-lookup"><span data-stu-id="ab710-156">privilegedRoleAssignment</span></span>](privilegedroleassignment.md) |<span data-ttu-id="ab710-157">使角色分配符合资格。</span><span class="sxs-lookup"><span data-stu-id="ab710-157">Make the role assignment as eligible.</span></span> |
|[<span data-ttu-id="ab710-158">My</span><span class="sxs-lookup"><span data-stu-id="ab710-158">my</span></span>](../api/privilegedroleassignment-my.md) | <span data-ttu-id="ab710-159">[privilegedRoleAssignment](privilegedroleassignment.md) 集合</span><span class="sxs-lookup"><span data-stu-id="ab710-159">[privilegedRoleAssignment](privilegedroleassignment.md) collection</span></span>|<span data-ttu-id="ab710-160">获取请求者的角色分配。</span><span class="sxs-lookup"><span data-stu-id="ab710-160">Get the requestor's role assignments.</span></span> |
|[<span data-ttu-id="ab710-161">获取 privilegedRoleSettings</span><span class="sxs-lookup"><span data-stu-id="ab710-161">Get privilegedRoleSettings</span></span>](../api/privilegedrolesettings-get.md) | [<span data-ttu-id="ab710-162">privilegedRoleSettings</span><span class="sxs-lookup"><span data-stu-id="ab710-162">privilegedRoleSettings</span></span>](../resources/privilegedrolesettings.md)|<span data-ttu-id="ab710-163">检索 privilegedRoleSettings 对象的属性。</span><span class="sxs-lookup"><span data-stu-id="ab710-163">Retrieve the properties of privilegedRoleSettings object.</span></span> |
|[<span data-ttu-id="ab710-164">获取 privilegedRoleSummary</span><span class="sxs-lookup"><span data-stu-id="ab710-164">Get privilegedRoleSummary</span></span>](../api/privilegedrolesummary-get.md) | [<span data-ttu-id="ab710-165">privilegedRoleSummary</span><span class="sxs-lookup"><span data-stu-id="ab710-165">privilegedRoleSummary</span></span>](../resources/privilegedrolesummary.md)|<span data-ttu-id="ab710-166">检索 privilegedRoleSummary 对象。</span><span class="sxs-lookup"><span data-stu-id="ab710-166">Retrieve the privilegedRoleSummary object.</span></span> |
|[<span data-ttu-id="ab710-167">获取 privilegedApproval</span><span class="sxs-lookup"><span data-stu-id="ab710-167">Get privilegedApproval</span></span>](../api/privilegedapproval-get.md) |[<span data-ttu-id="ab710-168">privilegedApproval</span><span class="sxs-lookup"><span data-stu-id="ab710-168">privilegedApproval</span></span>](privilegedapproval.md)| <span data-ttu-id="ab710-169">获取 privilegedApproval 对象。</span><span class="sxs-lookup"><span data-stu-id="ab710-169">Get a privilegedApproval object.</span></span>|
|[<span data-ttu-id="ab710-170">列出 privilegedApproval</span><span class="sxs-lookup"><span data-stu-id="ab710-170">List privilegedApproval</span></span>](../api/privilegedapproval-list.md) | <span data-ttu-id="ab710-171">[privilegedApproval](privilegedapproval.md) 集合</span><span class="sxs-lookup"><span data-stu-id="ab710-171">[privilegedApproval](privilegedapproval.md) collection</span></span> |<span data-ttu-id="ab710-172">Get privilegedApproval 对象集合。</span><span class="sxs-lookup"><span data-stu-id="ab710-172">Get privilegedApproval object collection.</span></span> |
|[<span data-ttu-id="ab710-173">创建 privilegedApproval</span><span class="sxs-lookup"><span data-stu-id="ab710-173">Create privilegedApproval</span></span>](../api/privilegedapproval-post-privilegedapproval.md) | [<span data-ttu-id="ab710-174">privilegedApproval</span><span class="sxs-lookup"><span data-stu-id="ab710-174">privilegedApproval</span></span>](privilegedapproval.md)    |<span data-ttu-id="ab710-175">创建 privilegedApproval 对象。</span><span class="sxs-lookup"><span data-stu-id="ab710-175">Create privilegedApproval object.</span></span> |
|[<span data-ttu-id="ab710-176">更新 privilegedApproval</span><span class="sxs-lookup"><span data-stu-id="ab710-176">Update privilegedApproval</span></span>](../api/privilegedapproval-update.md) | [<span data-ttu-id="ab710-177">privilegedApproval</span><span class="sxs-lookup"><span data-stu-id="ab710-177">privilegedApproval</span></span>](privilegedapproval.md) |<span data-ttu-id="ab710-178">更新 privilegedApproval 对象。</span><span class="sxs-lookup"><span data-stu-id="ab710-178">Update privilegedApproval object.</span></span> |
|[<span data-ttu-id="ab710-179">myrequests</span><span class="sxs-lookup"><span data-stu-id="ab710-179">myrequests</span></span>](../api/privilegedapproval-myrequests.md) | <span data-ttu-id="ab710-180">[privilegedApproval](privilegedapproval.md) 集合</span><span class="sxs-lookup"><span data-stu-id="ab710-180">[privilegedApproval](privilegedapproval.md) collection</span></span>|<span data-ttu-id="ab710-181">获取请求者的审批请求。</span><span class="sxs-lookup"><span data-stu-id="ab710-181">Get the requestor's approval requests.</span></span> |

<!-- uuid: 8fcb5dbc-d5aa-4681-8e31-b001d5168d79
2015-10-25 14:57:30 UTC -->
<!--
{
  "type": "#page.annotation",
  "description": "Service root",
  "keywords": "",
  "section": "documentation",
  "tocPath": "",
  "suppressions": []
}
-->
