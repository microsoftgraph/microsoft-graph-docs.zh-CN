---
title: 将 Microsoft Graph API 与 Microsoft Teams 结合使用
description: Microsoft Teams 是 Microsoft 365 中基于聊天的工作区，可提供对特定于团队的日历、文件、OneNote 笔记、规划器计划等对象的内置访问权限。
localization_priority: Priority
author: nkramer
ms.prod: microsoft-teams
doc_type: conceptualPageType
ms.openlocfilehash: b6f717951dcc972542d75b4319d1a6a8e2c5fb99
ms.sourcegitcommit: d700b7e3b411e3226b5adf1f213539f05fe802e8
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 05/19/2021
ms.locfileid: "52547034"
---
# <a name="use-the-microsoft-graph-api-to-work-with-microsoft-teams"></a><span data-ttu-id="6b0a3-103">将 Microsoft Graph API 与 Microsoft Teams 结合使用</span><span class="sxs-lookup"><span data-stu-id="6b0a3-103">Use the Microsoft Graph API to work with Microsoft Teams</span></span>

[!INCLUDE [beta-disclaimer](../../includes/beta-disclaimer.md)]

<span data-ttu-id="6b0a3-104">Microsoft Teams 是 Microsoft 365 中基于聊天的工作区，可提供对特定于团队的日历、文件、OneNote 笔记、规划器计划、排班计划等对象的内置访问权限。</span><span class="sxs-lookup"><span data-stu-id="6b0a3-104">Microsoft Teams is a chat-based workspace in Microsoft 365 that provides built-in access to team-specific calendars, files, OneNote notes, Planner plans, Shifts schedules, and more.</span></span>

## <a name="key-resources-in-microsoft-teams"></a><span data-ttu-id="6b0a3-105">Microsoft Teams 中的重要资源</span><span class="sxs-lookup"><span data-stu-id="6b0a3-105">Key resources in Microsoft Teams</span></span>

| <span data-ttu-id="6b0a3-106">资源</span><span class="sxs-lookup"><span data-stu-id="6b0a3-106">Resource</span></span> | <span data-ttu-id="6b0a3-107">方法</span><span class="sxs-lookup"><span data-stu-id="6b0a3-107">Methods</span></span> |
|:---------------|:--------|
|[<span data-ttu-id="6b0a3-108">团队</span><span class="sxs-lookup"><span data-stu-id="6b0a3-108">team</span></span>](../resources/team.md)| <span data-ttu-id="6b0a3-109">[列出你的团队](../api/user-list-joinedteams.md)、[列出所有团队](/graph/teams-list-all-teams)、[创建](../api/team-put-teams.md)、[读取](../api/team-get.md)、[更新](../api/team-update.md)、[删除](../api/group-delete.md)、[克隆](../api/team-clone.md)、[归档](../api/team-archive.md)[取消归档](../api/team-unarchive.md)</span><span class="sxs-lookup"><span data-stu-id="6b0a3-109">[List your teams](../api/user-list-joinedteams.md), [list all teams](/graph/teams-list-all-teams), [create](../api/team-put-teams.md), [read](../api/team-get.md), [update](../api/team-update.md), [delete](../api/group-delete.md), [clone](../api/team-clone.md), [archive](../api/team-archive.md), [unarchive](../api/team-unarchive.md)</span></span> |
|[<span data-ttu-id="6b0a3-110">组</span><span class="sxs-lookup"><span data-stu-id="6b0a3-110">group</span></span>](../resources/group.md)| <span data-ttu-id="6b0a3-111">[添加成员](../api/group-post-members.md)、 [移除成员](../api/group-delete-members.md)、[添加所有者](../api/group-post-owners.md)、 [移除所有者](../api/group-delete-owners.md)、[获取文件](drive.md)、[获取笔记本](../resources/notebook.md)、[获取计划](plannergroup.md)、[获取日历](event.md)</span><span class="sxs-lookup"><span data-stu-id="6b0a3-111">[Add member](../api/group-post-members.md), [remove member](../api/group-delete-members.md), [add owner](../api/group-post-owners.md), [remove owner](../api/group-delete-owners.md), [get files](drive.md), [get notebook](../resources/notebook.md), [get plans](plannergroup.md), [get calendar](event.md)</span></span> |
|[<span data-ttu-id="6b0a3-112">频道</span><span class="sxs-lookup"><span data-stu-id="6b0a3-112">channel</span></span>](../resources/channel.md)|<span data-ttu-id="6b0a3-113">[列出](../api/channel-list.md)、[创建](../api/channel-post.md)、[读取](../api/channel-get.md)、[更新](../api/channel-patch.md)、[删除](../api/channel-delete.md)</span><span class="sxs-lookup"><span data-stu-id="6b0a3-113">[List](../api/channel-list.md), [create](../api/channel-post.md), [read](../api/channel-get.md), [update](../api/channel-patch.md), [delete](../api/channel-delete.md)</span></span>|
|[<span data-ttu-id="6b0a3-114">teamsTab</span><span class="sxs-lookup"><span data-stu-id="6b0a3-114">teamsTab</span></span>](../resources/teamstab.md) |<span data-ttu-id="6b0a3-115">[列出](../api/channel-list-tabs.md)、[创建](../api/channel-post-tabs.md)、[读取](../api/channel-get-tabs.md)、[更新](../api/channel-patch-tabs.md)、[删除](../api/channel-delete-tabs.md)</span><span class="sxs-lookup"><span data-stu-id="6b0a3-115">[List](../api/channel-list-tabs.md), [create](../api/channel-post-tabs.md), [read](../api/channel-get-tabs.md), [update](../api/channel-patch-tabs.md), [delete](../api/channel-delete-tabs.md)</span></span> |
|[<span data-ttu-id="6b0a3-116">teamsApp</span><span class="sxs-lookup"><span data-stu-id="6b0a3-116">teamsApp</span></span>](../resources/teamsapp.md)|<span data-ttu-id="6b0a3-117">[列出](../api/appcatalogs-list-teamsapps.md)、[发布](../api/teamsapp-publish.md)、[更新](../api/teamsapp-update.md)、[移除](../api/teamsapp-delete.md)</span><span class="sxs-lookup"><span data-stu-id="6b0a3-117">[List](../api/appcatalogs-list-teamsapps.md), [publish](../api/teamsapp-publish.md), [update](../api/teamsapp-update.md), [remove](../api/teamsapp-delete.md)</span></span>|
|[<span data-ttu-id="6b0a3-118">teamsAppInstallation</span><span class="sxs-lookup"><span data-stu-id="6b0a3-118">teamsAppInstallation</span></span>](../resources/teamsappinstallation.md)| <span data-ttu-id="6b0a3-119">[列出](../api/team-list-installedapps.md)、[安装](../api/team-post-installedapps.md)、[升级](../api/team-delete-installedapps.md)、[移除](../api/team-delete-installedapps.md)</span><span class="sxs-lookup"><span data-stu-id="6b0a3-119">[List](../api/team-list-installedapps.md), [install](../api/team-post-installedapps.md), [upgrade](../api/team-delete-installedapps.md), [remove](../api/team-delete-installedapps.md)</span></span> |
|[<span data-ttu-id="6b0a3-120">chatMessage</span><span class="sxs-lookup"><span data-stu-id="6b0a3-120">chatMessage</span></span>](../resources/chatmessage.md)| <span data-ttu-id="6b0a3-121">[在频道中列出](../api/channel-list-messages.md)、[在聊天中列出](../api/chat-list-messages.md)、[发送](../api/chatmessage-post.md)、[在频道中读取](../api/chatmessage-get.md)、[在聊天中读取](../api/chatmessage-get.md)</span><span class="sxs-lookup"><span data-stu-id="6b0a3-121">[list in channel](../api/channel-list-messages.md), [list in chat](../api/chat-list-messages.md), [send](../api/chatmessage-post.md), [read in channel](../api/chatmessage-get.md), [read in chat](../api/chatmessage-get.md)</span></span>|
|[<span data-ttu-id="6b0a3-122">call</span><span class="sxs-lookup"><span data-stu-id="6b0a3-122">call</span></span>](../resources/call.md)| <span data-ttu-id="6b0a3-123">[回答](../api/call-answer.md)， [拒绝](../api/call-reject.md)， [重定向](../api/call-redirect.md)， [静音](../api/call-mute.md) [取消静音](../api/call-unmute.md)， [更改屏幕共享角色](../api/call-changescreensharingrole.md)， [列表参与者](../api/call-list-participants.md)， [邀请参与者](../api/participant-invite.md)</span><span class="sxs-lookup"><span data-stu-id="6b0a3-123">[Answer](../api/call-answer.md), [reject](../api/call-reject.md), [redirect](../api/call-redirect.md), [mute](../api/call-mute.md), [unmute](../api/call-unmute.md), [change screen sharing role](../api/call-changescreensharingrole.md), [list participants](../api/call-list-participants.md), [invite participants](../api/participant-invite.md)</span></span> |
|[<span data-ttu-id="6b0a3-124">日程安排</span><span class="sxs-lookup"><span data-stu-id="6b0a3-124">schedule</span></span>](../resources/schedule.md)| <span data-ttu-id="6b0a3-125">[创建或替换](../api/team-put-schedule.md)、[获取](../api/schedule-get.md)、[共享](../api/schedule-share.md)</span><span class="sxs-lookup"><span data-stu-id="6b0a3-125">[Create or replace](../api/team-put-schedule.md), [get](../api/schedule-get.md), [share](../api/schedule-share.md)</span></span> |
|[<span data-ttu-id="6b0a3-126">schedulingGroup</span><span class="sxs-lookup"><span data-stu-id="6b0a3-126">schedulingGroup</span></span>](../resources/schedulinggroup.md)| <span data-ttu-id="6b0a3-127">[创建](../api/schedule-post-schedulinggroups.md)、[列出](../api/schedule-list-schedulinggroups.md)、[获取](../api/schedulinggroup-get.md)、[替换](../api/schedulinggroup-put.md)、[删除](../api/schedulinggroup-delete.md)</span><span class="sxs-lookup"><span data-stu-id="6b0a3-127">[Create](../api/schedule-post-schedulinggroups.md), [List](../api/schedule-list-schedulinggroups.md), [Get](../api/schedulinggroup-get.md), [Replace](../api/schedulinggroup-put.md), [Delete](../api/schedulinggroup-delete.md)</span></span> |
|<span data-ttu-id="6b0a3-128">activityFeedNotification</span><span class="sxs-lookup"><span data-stu-id="6b0a3-128">activityFeedNotification</span></span>| <span data-ttu-id="6b0a3-129">[向聊天范围内的用户发送通知](../api/chat-sendactivitynotification.md)，[向团队范围内的用户发送通知](../api/team-sendactivitynotification.md)，[向个人范围内的用户发送通知](../api/userteamwork-sendactivitynotification.md)</span><span class="sxs-lookup"><span data-stu-id="6b0a3-129">[Send notification to user in scope of a chat](../api/chat-sendactivitynotification.md), [Send notification to user in scope of a team](../api/team-sendactivitynotification.md), [Send notification to user in personal scope](../api/userteamwork-sendactivitynotification.md)</span></span>|
|[<span data-ttu-id="6b0a3-130">shift</span><span class="sxs-lookup"><span data-stu-id="6b0a3-130">shift</span></span>](../resources/shift.md)| <span data-ttu-id="6b0a3-131">[创建](../api/schedule-post-shifts.md)、[列出](../api/schedule-list-shifts.md)、[获取](../api/shift-get.md)、[替换](../api/shift-put.md)、[删除](../api/shift-delete.md)</span><span class="sxs-lookup"><span data-stu-id="6b0a3-131">[Create](../api/schedule-post-shifts.md), [List](../api/schedule-list-shifts.md), [Get](../api/shift-get.md), [Replace](../api/shift-put.md), [Delete](../api/shift-delete.md)</span></span> |
|[<span data-ttu-id="6b0a3-132">timeOff</span><span class="sxs-lookup"><span data-stu-id="6b0a3-132">timeOff</span></span>](../resources/timeoff.md)| <span data-ttu-id="6b0a3-133">[创建](../api/schedule-post-timesoff.md)、[列出](../api/schedule-list-timesoff.md)、[获取](../api/timeoff-get.md)、[替换](../api/timeoff-put.md)、[删除](../api/timeoff-delete.md)</span><span class="sxs-lookup"><span data-stu-id="6b0a3-133">[Create](../api/schedule-post-timesoff.md), [List](../api/schedule-list-timesoff.md), [Get](../api/timeoff-get.md), [Replace](../api/timeoff-put.md), [Delete](../api/timeoff-delete.md)</span></span> |
|[<span data-ttu-id="6b0a3-134">timeOffReason</span><span class="sxs-lookup"><span data-stu-id="6b0a3-134">timeOffReason</span></span>](../resources/timeoffreason.md)| <span data-ttu-id="6b0a3-135">[创建](../api/schedule-post-timeoffreasons.md)、[列出](../api/schedule-list-timeoffreasons.md)、[获取](../api/timeoffreason-get.md)、[替换](../api/timeoffreason-put.md)、[删除](../api/timeoffreason-delete.md)</span><span class="sxs-lookup"><span data-stu-id="6b0a3-135">[Create](../api/schedule-post-timeoffreasons.md), [List](../api/schedule-list-timeoffreasons.md), [Get](../api/timeoffreason-get.md), [Replace](../api/timeoffreason-put.md), [Delete](../api/timeoffreason-delete.md)</span></span> |

## <a name="microsoft-teams-limits"></a><span data-ttu-id="6b0a3-136">Microsoft Teams 限制</span><span class="sxs-lookup"><span data-stu-id="6b0a3-136">Microsoft Teams limits</span></span>

<span data-ttu-id="6b0a3-137">Microsoft Teams 的已测试性能和容量限制将记录在 [Microsoft Teams 限制和规范](/microsoftteams/limits-specifications-teams)中。</span><span class="sxs-lookup"><span data-stu-id="6b0a3-137">The tested performance and capacity limits of Microsoft Teams are documented in [Limits and specifications for Microsoft Teams](/microsoftteams/limits-specifications-teams).</span></span>
<span data-ttu-id="6b0a3-138">无论是直接使用 Microsoft Teams 还是使用 Microsoft Graph API，这些限制均适用。</span><span class="sxs-lookup"><span data-stu-id="6b0a3-138">These limits apply whether using Microsoft Teams directly or using Microsoft Graph APIs.</span></span>
<span data-ttu-id="6b0a3-139">由于每个团队都有一个对应的组，并且每个组都是一个目录对象，因此对[组数](/microsoft-365/admin/create-groups/office-365-groups#group-limits)和[目录对象数目（“资源”）](/azure/active-directory/users-groups-roles/directory-service-limits-restrictions) 的限制也可以发挥作用。</span><span class="sxs-lookup"><span data-stu-id="6b0a3-139">Because every team has a corresponding group, and every group is a directory object, limits on the [number of groups](/microsoft-365/admin/create-groups/office-365-groups#group-limits) and the [number of directory objects ("resources")](/azure/active-directory/users-groups-roles/directory-service-limits-restrictions) can also come into play.</span></span> 

<span data-ttu-id="6b0a3-140">频道内的文件存储在 SharePoint 中；[SharePoint online 限制](/office365/servicedescriptions/sharepoint-online-service-description/sharepoint-online-limits)适用。</span><span class="sxs-lookup"><span data-stu-id="6b0a3-140">Files inside channels are stored in SharePoint; [SharePoint online limits](/office365/servicedescriptions/sharepoint-online-service-description/sharepoint-online-limits) apply.</span></span>

<span data-ttu-id="6b0a3-141">另请参阅 [Microsoft Teams 服务限制](/graph/throttling#microsoft-teams-service-limits)。</span><span class="sxs-lookup"><span data-stu-id="6b0a3-141">See also [throttling limits for Microsoft Teams services](/graph/throttling#microsoft-teams-service-limits).</span></span>

## <a name="teams-and-groups"></a><span data-ttu-id="6b0a3-142">用户和组</span><span class="sxs-lookup"><span data-stu-id="6b0a3-142">Teams and groups</span></span>

<span data-ttu-id="6b0a3-143">在 Microsoft Graph 中，Microsoft Teams 由[组](../resources/group.md)资源表示。</span><span class="sxs-lookup"><span data-stu-id="6b0a3-143">In Microsoft Graph, Microsoft Teams is represented by a [group](../resources/group.md) resource.</span></span> <span data-ttu-id="6b0a3-144">Microsoft Teams 和 Microsoft 365 组均可满足组协作的各种需求。</span><span class="sxs-lookup"><span data-stu-id="6b0a3-144">Both Microsoft Teams and Microsoft 365 groups address the various needs of group collaboration.</span></span> <span data-ttu-id="6b0a3-145">几乎所有基于组的功能都适用于 Microsoft Teams 和 Microsoft 365 组，例如组日历、文件、笔记、照片、计划等。</span><span class="sxs-lookup"><span data-stu-id="6b0a3-145">Almost all the group-based features apply to Microsoft Teams and Microsoft 365 groups, such as group calendar, files, notes, photo, plans, and so on.</span></span> <span data-ttu-id="6b0a3-146">[团队](team.md)与 Microsoft 365 组之间的主要区别在于成员之间的通信模式。</span><span class="sxs-lookup"><span data-stu-id="6b0a3-146">The main difference between a [team](team.md) and a Microsoft 365 group is the mode of communication between members.</span></span> <span data-ttu-id="6b0a3-147">团队成员的通信方式是在特定团队的上下文中进行持久聊天。</span><span class="sxs-lookup"><span data-stu-id="6b0a3-147">Team members communicate by persistent chat in the context of a specific team.</span></span> <span data-ttu-id="6b0a3-148">Microsoft 365 组成员通过组对话进行通信，它们是在 Outlook 的组上下文中发生的电子邮件对话。</span><span class="sxs-lookup"><span data-stu-id="6b0a3-148">Microsoft 365 group members communicate by group conversations, which are email conversations that occur in the context of a group in Outlook.</span></span>

<span data-ttu-id="6b0a3-149">具有团队的任何组都具有 **resourceProvisioningOptions** 属性，它包含“团队”。</span><span class="sxs-lookup"><span data-stu-id="6b0a3-149">Any group that has a team has a **resourceProvisioningOptions** property that contains "Team".</span></span>

><span data-ttu-id="6b0a3-150">**注释：** 可以更改 **Group.resourceProvisioningOptions** 属性。</span><span class="sxs-lookup"><span data-stu-id="6b0a3-150">**Note:** The **Group.resourceProvisioningOptions** property can be changed.</span></span>
<span data-ttu-id="6b0a3-151">请不要在该集合中添加或删除“团队”；否则，当你列出所有团队时，你将获得错误结果。</span><span class="sxs-lookup"><span data-stu-id="6b0a3-151">Do not add or remove "Team" from that collection; otherwise, you'll get incorrect results when you list all teams.</span></span>

<span data-ttu-id="6b0a3-152">以下是团队和组之间的 API 级别的区别：</span><span class="sxs-lookup"><span data-stu-id="6b0a3-152">The following are the differences at the API level between teams and groups:</span></span>

- <span data-ttu-id="6b0a3-153">持久聊天仅适用于 Microsoft Teams。</span><span class="sxs-lookup"><span data-stu-id="6b0a3-153">Persistent chat is available only to Microsoft Teams.</span></span> <span data-ttu-id="6b0a3-154">此功能由[频道](../resources/channel.md)和 [chatMessage](../resources/chatmessage.md) 资源按层次结构表示。</span><span class="sxs-lookup"><span data-stu-id="6b0a3-154">This feature is hierarchically represented by the [channel](../resources/channel.md) and [chatMessage](../resources/chatmessage.md) resources.</span></span>
- <span data-ttu-id="6b0a3-155">组对话仅适用于 Microsoft 365 组。</span><span class="sxs-lookup"><span data-stu-id="6b0a3-155">Group conversations are available only to Microsoft 365 groups.</span></span> <span data-ttu-id="6b0a3-156">此功能由[对话](../resources/conversation.md)、[conversationThread](../resources/conversationthread.md) 和[帖子](../resources/post.md)资源按层次结构表示。</span><span class="sxs-lookup"><span data-stu-id="6b0a3-156">This feature is hierarchically represented by the [conversation](../resources/conversation.md), [conversationThread](../resources/conversationthread.md), and [post](../resources/post.md) resources.</span></span>
- <span data-ttu-id="6b0a3-157">[列出加入的团队](../api/user-list-joinedteams.md)方法仅适用于 Microsoft Teams。</span><span class="sxs-lookup"><span data-stu-id="6b0a3-157">The [List joined teams](../api/user-list-joinedteams.md) method applies only to Microsoft Teams.</span></span>
- <span data-ttu-id="6b0a3-158">[呼叫和在线会议 API](./communications-api-overview.md) 仅适用于 Microsoft Teams。</span><span class="sxs-lookup"><span data-stu-id="6b0a3-158">[Calling and online meeting APIs](./communications-api-overview.md) apply only to Microsoft Teams.</span></span>
- <span data-ttu-id="6b0a3-159">另请参阅[已知问题](/graph/known-issues)以了解这些 API。</span><span class="sxs-lookup"><span data-stu-id="6b0a3-159">See also the [known issues](/graph/known-issues) for these APIs.</span></span>

><span data-ttu-id="6b0a3-160">注意：如果在 Microsoft Teams 应用（而非独立应用中）使用组 API（例如，作为 Microsoft Teams 中运行的选项卡或自动程序的一部分），请按照在 Microsoft Teams 页面中使用 Microsoft Graph 一文中的说明操作。</span><span class="sxs-lookup"><span data-stu-id="6b0a3-160">**Note:** If you use the groups API in a [Microsoft Teams app](/microsoftteams/platform/#apps-in-microsoft-teams) rather than in a standalone app - for example as part of a tab or bot running in Microsoft Teams - follow the guidance in the article [Using Microsoft Graph in your Microsoft Teams pages](/microsoftteams/platform/resources/microsoft-graph).</span></span>

## <a name="membership-changes-in-microsoft-teams"></a><span data-ttu-id="6b0a3-161">Microsoft Teams 中的成员身份更改</span><span class="sxs-lookup"><span data-stu-id="6b0a3-161">Membership changes in Microsoft Teams</span></span>

<span data-ttu-id="6b0a3-162">若要向团队添加成员和所有者，请使用相同的 ID 更改[组](../resources/group.md)的成员身份。</span><span class="sxs-lookup"><span data-stu-id="6b0a3-162">To add members and owners to a team, change the membership of the [group](../resources/group.md) with the same ID.</span></span>

| <span data-ttu-id="6b0a3-163">用例</span><span class="sxs-lookup"><span data-stu-id="6b0a3-163">Use case</span></span>      | <span data-ttu-id="6b0a3-164">谓词</span><span class="sxs-lookup"><span data-stu-id="6b0a3-164">Verb</span></span>      | <span data-ttu-id="6b0a3-165">URL</span><span class="sxs-lookup"><span data-stu-id="6b0a3-165">URL</span></span> |
| ------------------------------------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| [<span data-ttu-id="6b0a3-166">添加成员</span><span class="sxs-lookup"><span data-stu-id="6b0a3-166">Add member</span></span>](../api/group-post-members.md)    | <span data-ttu-id="6b0a3-167">POST</span><span class="sxs-lookup"><span data-stu-id="6b0a3-167">POST</span></span>      | <span data-ttu-id="6b0a3-168">/groups/{id}/members/$ref</span><span class="sxs-lookup"><span data-stu-id="6b0a3-168">/groups/{id}/members/$ref</span></span>  |
| [<span data-ttu-id="6b0a3-169">删除成员</span><span class="sxs-lookup"><span data-stu-id="6b0a3-169">Remove member</span></span>](../api/group-delete-members.md)   | <span data-ttu-id="6b0a3-170">DELETE</span><span class="sxs-lookup"><span data-stu-id="6b0a3-170">DELETE</span></span>    | <span data-ttu-id="6b0a3-171">/groups/{id}/members/{userId}/$ref</span><span class="sxs-lookup"><span data-stu-id="6b0a3-171">/groups/{id}/members/{userId}/$ref</span></span> |
| [<span data-ttu-id="6b0a3-172">添加所有者</span><span class="sxs-lookup"><span data-stu-id="6b0a3-172">Add owner</span></span>](../api/group-post-owners.md)     | <span data-ttu-id="6b0a3-173">POST</span><span class="sxs-lookup"><span data-stu-id="6b0a3-173">POST</span></span>       | <span data-ttu-id="6b0a3-174">/groups/{id}/owners/$ref</span><span class="sxs-lookup"><span data-stu-id="6b0a3-174">/groups/{id}/owners/$ref</span></span> |
| [<span data-ttu-id="6b0a3-175">移除所有者</span><span class="sxs-lookup"><span data-stu-id="6b0a3-175">Remove owner</span></span>](../api/group-delete-owners.md) | <span data-ttu-id="6b0a3-176">DELETE</span><span class="sxs-lookup"><span data-stu-id="6b0a3-176">DELETE</span></span>    | <span data-ttu-id="6b0a3-177">/groups/{id}/owners/{userId}/$ref</span><span class="sxs-lookup"><span data-stu-id="6b0a3-177">/groups/{id}/owners/{userId}/$ref</span></span> |
| [<span data-ttu-id="6b0a3-178">更新团队</span><span class="sxs-lookup"><span data-stu-id="6b0a3-178">Update team</span></span>](../api/team-update.md)  | <span data-ttu-id="6b0a3-179">PATCH</span><span class="sxs-lookup"><span data-stu-id="6b0a3-179">PATCH</span></span>     | <span data-ttu-id="6b0a3-180">/teams/{id}</span><span class="sxs-lookup"><span data-stu-id="6b0a3-180">/teams/{id}</span></span> |

<span data-ttu-id="6b0a3-181">我们建议你在添加所有者时，还将该用户添加为成员。</span><span class="sxs-lookup"><span data-stu-id="6b0a3-181">We recommend that when you add an owner, you also add that user as a member.</span></span>
<span data-ttu-id="6b0a3-182">如果团队的所有者不是其成员，则所有权和成员身份更改可能不会立即显示在 Microsoft Teams 中。</span><span class="sxs-lookup"><span data-stu-id="6b0a3-182">If a team has an owner who is not also a member, ownership and membership changes might not show up immediately in Microsoft Teams.</span></span>
<span data-ttu-id="6b0a3-183">此外，不同的应用程序和 API 将以不同的方式进行处理。</span><span class="sxs-lookup"><span data-stu-id="6b0a3-183">In addition, different apps and APIs will handle that differently.</span></span>
<span data-ttu-id="6b0a3-184">例如，Microsoft Teams 将显示用户是其成员或所有者的团队，而 Microsoft Teams PowerShell cmdlet 和 /me/joinedTeams API 仅显示用户是其成员的团队。</span><span class="sxs-lookup"><span data-stu-id="6b0a3-184">For example, Microsoft Teams will show teams that the user is either a member or an owner of, while the Microsoft Teams PowerShell cmdlets and the /me/joinedTeams API will only show teams the user is a member of.</span></span>
<span data-ttu-id="6b0a3-185">为了避免混淆，请也将全部所有者添加到成员列表中。</span><span class="sxs-lookup"><span data-stu-id="6b0a3-185">To avoid confusion, add all owners to the members list as well.</span></span>

<span data-ttu-id="6b0a3-186">已知问题：当调用 DELETE /groups/{id}/owners 时，也会从 /groups/{id}/members list 中移除用户。</span><span class="sxs-lookup"><span data-stu-id="6b0a3-186">Known issue: when DELETE /groups/{id}/owners is called, the user is also removed from the /groups/{id}/members list.</span></span> <span data-ttu-id="6b0a3-187">若要解决此问题，我们建议你从所有者和成员中移除用户，等待 10 秒后，将其添加回成员。</span><span class="sxs-lookup"><span data-stu-id="6b0a3-187">To work around this, we recommend that you remove the user from both owners and members, then wait 10 seconds, then add them back to members.</span></span>

<span data-ttu-id="6b0a3-188">在添加和移除成员和所有者时，请勿在 ID 两边添加大括号 { }。</span><span class="sxs-lookup"><span data-stu-id="6b0a3-188">When adding and removing members and owners, don't put braces { } around the ID.</span></span>

| <span data-ttu-id="6b0a3-189">速度</span><span class="sxs-lookup"><span data-stu-id="6b0a3-189">Speed</span></span> | <span data-ttu-id="6b0a3-190">语法</span><span class="sxs-lookup"><span data-stu-id="6b0a3-190">Syntax</span></span> |
| ------ | ----- |
| <span data-ttu-id="6b0a3-191">快速</span><span class="sxs-lookup"><span data-stu-id="6b0a3-191">Fast</span></span> | `https://graph.microsoft.com/beta/groups/02bd9fd6-8f93-4758-87c3-1fb73740a315/members/48d31887-5fad-4d73-a9f5-3c356e68a038/$ref` |
| <span data-ttu-id="6b0a3-192">慢速</span><span class="sxs-lookup"><span data-stu-id="6b0a3-192">Slow</span></span> | `https://graph.microsoft.com/beta/groups/{02bd9fd6-8f93-4758-87c3-1fb73740a315}/members/{48d31887-5fad-4d73-a9f5-3c356e68a038}/$ref` |

<span data-ttu-id="6b0a3-193">同样，如果 URL 或有效负载中的 `userId` 显示为 UPN 而不是 GUID，则性能会变慢。</span><span class="sxs-lookup"><span data-stu-id="6b0a3-193">Similarly, if the `userId` in the URL or payload is expressed as a UPN rather than as a GUID, the performance will be slower.</span></span>

| <span data-ttu-id="6b0a3-194">速度</span><span class="sxs-lookup"><span data-stu-id="6b0a3-194">Speed</span></span> | <span data-ttu-id="6b0a3-195">语法</span><span class="sxs-lookup"><span data-stu-id="6b0a3-195">Syntax</span></span> |
| ------ | ----- |
| <span data-ttu-id="6b0a3-196">快速</span><span class="sxs-lookup"><span data-stu-id="6b0a3-196">Fast</span></span> | <span data-ttu-id="6b0a3-197">48d31887-5fad-4d73-a9f5-3c356e68a038</span><span class="sxs-lookup"><span data-stu-id="6b0a3-197">48d31887-5fad-4d73-a9f5-3c356e68a038</span></span> |
| <span data-ttu-id="6b0a3-198">慢速</span><span class="sxs-lookup"><span data-stu-id="6b0a3-198">Slow</span></span> | <span data-ttu-id="6b0a3-199">john@example.com</span><span class="sxs-lookup"><span data-stu-id="6b0a3-199">john@example.com</span></span> |

<span data-ttu-id="6b0a3-200">当采用较慢的路径时，如果当前团队成员或所有者登录到 Microsoft Teams 应用程序/网站，则更改将在一小时内反映出来。</span><span class="sxs-lookup"><span data-stu-id="6b0a3-200">When the slower path is taken, if a current team member or owner is signed in to the Microsoft Teams application/website, the change will be reflected within an hour.</span></span>
<span data-ttu-id="6b0a3-201">如果这些用户都未登录到 Microsoft Teams 应用程序/网站，则更改将在其中一个用户登录后一小时内反映出来。</span><span class="sxs-lookup"><span data-stu-id="6b0a3-201">If none of those users are signed in to the Microsoft Teams application/website, the change will not be reflected until an hour after one of them signs in.</span></span>

> [!Note]
> <span data-ttu-id="6b0a3-202">租户来宾始终通过慢速路径进行处理。</span><span class="sxs-lookup"><span data-stu-id="6b0a3-202">Tenant guests are always processed via the slow path.</span></span>

## <a name="polling-requirements"></a><span data-ttu-id="6b0a3-203">轮询要求</span><span class="sxs-lookup"><span data-stu-id="6b0a3-203">Polling requirements</span></span>

<span data-ttu-id="6b0a3-204">如果应用程序轮询查看是否更改了某资源，则此操作每天只能执行一次。</span><span class="sxs-lookup"><span data-stu-id="6b0a3-204">If your app polls to see whether a resource has changed, you can only do that once per day.</span></span> <span data-ttu-id="6b0a3-205">（[teamsAsyncOperation](teamsasyncoperation.md) 是一种例外情况，因为需要频繁对其进行轮询。）如果需要更频繁了解更改，应[创建指向该资源的订阅](../api/subscription-post-subscriptions.md)并接收更改通知 (webhooks)。</span><span class="sxs-lookup"><span data-stu-id="6b0a3-205">([teamsAsyncOperation](teamsasyncoperation.md) is an exception in that it's intended to be polled frequently.) If you need to hear about changes more frequently than that, you should [create a subscription](../api/subscription-post-subscriptions.md) to that resource and receive change notifications (webhooks).</span></span> <span data-ttu-id="6b0a3-206">如果找不到对所需订阅类型的支持，建议通过 [Microsoft 365 开发人员平台创意论坛](https://techcommunity.microsoft.com/t5/microsoft-365-developer-platform/idb-p/Microsoft365DeveloperPlatform/label-name/Microsoft%20Graph)提供反馈。</span><span class="sxs-lookup"><span data-stu-id="6b0a3-206">If you don't find support for the type of subscription you need, we encourage you to provide feedback via the [Microsoft 365 Developer Platform ideas forum](https://techcommunity.microsoft.com/t5/microsoft-365-developer-platform/idb-p/Microsoft365DeveloperPlatform/label-name/Microsoft%20Graph).</span></span> 

<span data-ttu-id="6b0a3-207">轮询新邮件时，必须指定支持的日期范围。</span><span class="sxs-lookup"><span data-stu-id="6b0a3-207">When polling for new messages, you must specify a date range where supported.</span></span> <span data-ttu-id="6b0a3-208">有关详细信息，请参阅 [get channel messages delta](../api/chatmessage-delta.md)。</span><span class="sxs-lookup"><span data-stu-id="6b0a3-208">For details, see [get channel messages delta](../api/chatmessage-delta.md).</span></span>

<span data-ttu-id="6b0a3-209">轮询是指对资源重复进行 GET 操作来了解资源是否变更。</span><span class="sxs-lookup"><span data-stu-id="6b0a3-209">Polling is doing a GET operation on a resource over and over again to see if that resource has changed.</span></span> <span data-ttu-id="6b0a3-210">只要同一资源未进行轮询，就可以一天多次对该资源进行 GET 操作。</span><span class="sxs-lookup"><span data-stu-id="6b0a3-210">You're allowed to GET the same resource multiple times a day, as long as it's not polling.</span></span> <span data-ttu-id="6b0a3-211">例如，每次用户访问/刷新网页时都可以执行 GET /me/joinedTeams，但在每隔 30 秒执行一次的循环中执行 GET /me/joinedTeams 来刷新该网页则不可取。</span><span class="sxs-lookup"><span data-stu-id="6b0a3-211">For example, it is okay to GET /me/joinedTeams every time the user visits/refreshes your web page, but it is not okay to GET /me/joinedTeams in a loop every 30 seconds to refresh that web page.</span></span>

<span data-ttu-id="6b0a3-212">未遵循这些轮询要求的应用将被视为违反了 [Microsoft API 使用条款](/legal/microsoft-apis/terms-of-use)。</span><span class="sxs-lookup"><span data-stu-id="6b0a3-212">Apps that don't follow these polling requirements will be considered in violation of the [Microsoft APIs Terms of Use](/legal/microsoft-apis/terms-of-use).</span></span> <span data-ttu-id="6b0a3-213">这可能导致额外的[限制](/graph/throttling)或暂停/终止使用 Microsoft API。</span><span class="sxs-lookup"><span data-stu-id="6b0a3-213">This may result in additional [throttling](/graph/throttling) or the suspension or termination of your use of the Microsoft APIs.</span></span>

## <a name="whats-new"></a><span data-ttu-id="6b0a3-214">最近更新</span><span class="sxs-lookup"><span data-stu-id="6b0a3-214">What's new</span></span>
<span data-ttu-id="6b0a3-215">了解此 API 集的[最新功能和更新](/graph/whats-new-overview)。</span><span class="sxs-lookup"><span data-stu-id="6b0a3-215">Find out about the [latest new features and updates](/graph/whats-new-overview) for this API set.</span></span>

## <a name="see-also"></a><span data-ttu-id="6b0a3-216">另请参阅</span><span class="sxs-lookup"><span data-stu-id="6b0a3-216">See also</span></span>

- [<span data-ttu-id="6b0a3-217">Microsoft Teams API 概述</span><span class="sxs-lookup"><span data-stu-id="6b0a3-217">Microsoft Teams API overview</span></span>](/graph/teams-concept-overview)
- <span data-ttu-id="6b0a3-218">示例代码：[Contoso 航空](https://github.com/microsoftgraph/contoso-airlines-teams-sample)、[C# 迷你示例](https://github.com/microsoftgraph/csharp-teams-sample-graph)</span><span class="sxs-lookup"><span data-stu-id="6b0a3-218">Sample code: [Contoso Airlines](https://github.com/microsoftgraph/contoso-airlines-teams-sample), [C# mini-samples](https://github.com/microsoftgraph/csharp-teams-sample-graph)</span></span>
