---
title: 将 Azure AD Graph应用迁移到 Microsoft Graph
description: 介绍如何将 Azure AD Azure Active Directory (API) 迁移到 Microsoft Graph API。
author: dkershaw10
localization_priority: Normal
ms.prod: applications
ms.openlocfilehash: 46880f0bd12fa894555e315976213866a01428e9
ms.sourcegitcommit: 4fa6fcc058c7f8d8cad58c0b82db23d6c7da37d2
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 05/27/2021
ms.locfileid: "52682087"
---
# <a name="migrate-azure-ad-graph-apps-to-microsoft-graph"></a><span data-ttu-id="413e9-103">将 Azure AD Graph应用迁移到 Microsoft Graph</span><span class="sxs-lookup"><span data-stu-id="413e9-103">Migrate Azure AD Graph apps to Microsoft Graph</span></span>

<span data-ttu-id="413e9-104">Microsoft Graph完全替换Azure Active Directory (Azure AD) Graph。</span><span class="sxs-lookup"><span data-stu-id="413e9-104">Microsoft Graph is fully replacing Azure Active Directory (Azure AD) Graph.</span></span> <span data-ttu-id="413e9-105">对于大多数生产应用，Microsoft Graph可以完全支持 Azure AD 方案。</span><span class="sxs-lookup"><span data-stu-id="413e9-105">For most production apps, Microsoft Graph can already fully support Azure AD scenarios.</span></span> <span data-ttu-id="413e9-106">现在，你应该开始将 Azure AD Graph移动到 Microsoft Graph应用。</span><span class="sxs-lookup"><span data-stu-id="413e9-106">You should start moving your Azure AD Graph apps to Microsoft Graph now.</span></span>

<span data-ttu-id="413e9-107">此外，Microsoft Graph 支持许多在 Azure AD Graph 中不可用的新 Azure AD 数据集和功能。</span><span class="sxs-lookup"><span data-stu-id="413e9-107">In addition, Microsoft Graph supports many new Azure AD datasets and features that are not available in Azure AD Graph.</span></span> <span data-ttu-id="413e9-108">切换到 Microsoft Graph以充分利用这些新 API，全部通过一个终结点，包括：</span><span class="sxs-lookup"><span data-stu-id="413e9-108">Switch to Microsoft Graph to take advantage of these new APIs, all through one single endpoint, including:</span></span>

- <span data-ttu-id="413e9-109">[Microsoft 365组管理](/graph/office365-groups-concept-overview)。</span><span class="sxs-lookup"><span data-stu-id="413e9-109">[Microsoft 365 group management](/graph/office365-groups-concept-overview).</span></span>
- <span data-ttu-id="413e9-110">[外部用户邀请](/graph/api/resources/invitation?view=graph-rest-1.0)。</span><span class="sxs-lookup"><span data-stu-id="413e9-110">[External user invitations](/graph/api/resources/invitation?view=graph-rest-1.0).</span></span>
- <span data-ttu-id="413e9-111">删除[用户和Microsoft 365组](/graph/api/resources/directory?view=graph-rest-1.0)后还原用户和组的能力。</span><span class="sxs-lookup"><span data-stu-id="413e9-111">The ability to [restore users and Microsoft 365 groups](/graph/api/resources/directory?view=graph-rest-1.0) after they've been deleted.</span></span>
- <span data-ttu-id="413e9-112">[有关用户和组的 Webhook 通知](/graph/webhooks?toc=./ref/toc.json&view=graph-rest-1.0)。</span><span class="sxs-lookup"><span data-stu-id="413e9-112">[Webhook notifications on users and groups](/graph/webhooks?toc=./ref/toc.json&view=graph-rest-1.0).</span></span>
- <span data-ttu-id="413e9-113">标识管理功能，例如：</span><span class="sxs-lookup"><span data-stu-id="413e9-113">Identity governance features such as:</span></span>
  - <span data-ttu-id="413e9-114">[PRIVILEGEd identity management](/graph/api/resources/privilegedidentitymanagement-root?view=graph-rest-beta) (PIM) to elevate users to privileged roles only when needed and for a limited time.</span><span class="sxs-lookup"><span data-stu-id="413e9-114">[Privileged identity management](/graph/api/resources/privilegedidentitymanagement-root?view=graph-rest-beta) (PIM) to elevate users to privileged roles only when needed and for a limited time period.</span></span>
  - <span data-ttu-id="413e9-115">[针对用户](/graph/api/resources/accessreviews-root?view=graph-rest-beta) 访问权限证明的一次性或定期访问评审的访问评审。</span><span class="sxs-lookup"><span data-stu-id="413e9-115">[Access reviews](/graph/api/resources/accessreviews-root?view=graph-rest-beta) for one-time or recurring access reviews for attestation of user's access rights.</span></span>
  - <span data-ttu-id="413e9-116">[使组织能够提供](/graph/api/resources/accessreviews-root?view=graph-rest-beta) 法律或合规性要求信息（如免责声明通知）的使用条款。</span><span class="sxs-lookup"><span data-stu-id="413e9-116">[Terms-of-use](/graph/api/resources/accessreviews-root?view=graph-rest-beta) to enable organizations to present information for legal or compliance requirements, like disclaimer notices.</span></span>
- <span data-ttu-id="413e9-117">安全功能，例如：</span><span class="sxs-lookup"><span data-stu-id="413e9-117">Security features such as:</span></span>
  - <span data-ttu-id="413e9-118">[标识风险事件](/graph/api/resources/identityriskevent?view=graph-rest-beta)。</span><span class="sxs-lookup"><span data-stu-id="413e9-118">[Identity risk events](/graph/api/resources/identityriskevent?view=graph-rest-beta).</span></span>
  - <span data-ttu-id="413e9-119">[有风险的用户](/graph/api/resources/riskyuser?view=graph-rest-beta)。</span><span class="sxs-lookup"><span data-stu-id="413e9-119">[Risky users](/graph/api/resources/riskyuser?view=graph-rest-beta).</span></span>
- <span data-ttu-id="413e9-120">[更多平台和语言](/graph/) 中提供了客户端库和示例。</span><span class="sxs-lookup"><span data-stu-id="413e9-120">[Client libraries and samples](/graph/) available on many more platforms and languages.</span></span> <span data-ttu-id="413e9-121">Microsoft Graph SDK 提供了一个可发现接口，可轻松访问你的数据，同时以透明方式处理令牌获取、由于错误和限制而重试处理、安全重定向处理以及模型序列化和反序列化。</span><span class="sxs-lookup"><span data-stu-id="413e9-121">The Microsoft Graph SDKs provide a discoverable interface to easily access your data while transparently handling token acquisition, retry handling due to errors and throttling, secure redirect handling and model serialization and deserialization.</span></span>

<span data-ttu-id="413e9-122">Microsoft Graph提供对更多服务的访问权限，而不只是 Azure Active Directory。</span><span class="sxs-lookup"><span data-stu-id="413e9-122">Microsoft Graph offers access to many more services than just Azure Active Directory.</span></span> <span data-ttu-id="413e9-123">这也是提供[服务Microsoft 365 API 网关](/graph/)。</span><span class="sxs-lookup"><span data-stu-id="413e9-123">It's the [API gateway to Microsoft 365 services too](/graph/).</span></span>

<span data-ttu-id="413e9-124">本部分中的其余文章可帮助你将应用从 Azure AD Graph Microsoft Graph。</span><span class="sxs-lookup"><span data-stu-id="413e9-124">The rest of the articles in this section help you move your app from Azure AD Graph to Microsoft Graph.</span></span> <span data-ttu-id="413e9-125">你将找到：</span><span class="sxs-lookup"><span data-stu-id="413e9-125">You'll find:</span></span>

- <span data-ttu-id="413e9-126">帮助您进行规划的清单。</span><span class="sxs-lookup"><span data-stu-id="413e9-126">A checklist to help you plan.</span></span>
- <span data-ttu-id="413e9-127">描述 API 之间特定差异的指南。</span><span class="sxs-lookup"><span data-stu-id="413e9-127">Guidance describing specific differences between the APIs.</span></span>
- <span data-ttu-id="413e9-128">指向其他资源的链接和示例，用于说明特定差异。</span><span class="sxs-lookup"><span data-stu-id="413e9-128">Links to additional resources and examples to illustrate specific differences.</span></span>
- <span data-ttu-id="413e9-129">用于解决其他问题或顾虑的常见问题解答</span><span class="sxs-lookup"><span data-stu-id="413e9-129">An FAQ to address other questions or concerns</span></span>


## <a name="frequently-asked-questions-faq"></a><span data-ttu-id="413e9-130">常见问题 (FAQ)</span><span class="sxs-lookup"><span data-stu-id="413e9-130">Frequently asked questions (FAQ)</span></span>

### <a name="is-azure-ad-graph-aad-graph-deprecated"></a><span data-ttu-id="413e9-131">Azure AD Graph (AAD Graph) 是否已弃用？</span><span class="sxs-lookup"><span data-stu-id="413e9-131">Is Azure AD Graph (AAD Graph) deprecated?</span></span>  
<span data-ttu-id="413e9-132">是。</span><span class="sxs-lookup"><span data-stu-id="413e9-132">Yes.</span></span> <span data-ttu-id="413e9-133">从 2020 年 6 月 30 日开始，我们将不再向 AAD Graph。</span><span class="sxs-lookup"><span data-stu-id="413e9-133">Starting June 30th, 2020, we will no longer add new features to AAD Graph.</span></span> <span data-ttu-id="413e9-134">2022 年 6 月 30 日前，我们将继续添加关键安全修补程序。</span><span class="sxs-lookup"><span data-stu-id="413e9-134">We'll continue adding critical security fixes through June 30th, 2022.</span></span> <span data-ttu-id="413e9-135">2022 年 6 月 30 日之后，API 将不再正常工作。</span><span class="sxs-lookup"><span data-stu-id="413e9-135">The APIs will no longer function correctly after June 30th, 2022.</span></span>

### <a name="how-do-i-know-which-of-my-apps-are-using-aad-graph"></a><span data-ttu-id="413e9-136">如何知道哪些应用程序正在使用 AAD Graph？</span><span class="sxs-lookup"><span data-stu-id="413e9-136">How do I know which of my apps are using AAD Graph?</span></span>  
<span data-ttu-id="413e9-137">必须注册应用程序，以使用 AAD Graph。</span><span class="sxs-lookup"><span data-stu-id="413e9-137">Applications must be registered to use AAD Graph.</span></span>  <span data-ttu-id="413e9-138">你可以查看 Azure 租户门户上的应用注册页面，以查看给定应用程序是否注册为使用 AAD Graph。</span><span class="sxs-lookup"><span data-stu-id="413e9-138">You can look at the App Registration page on your Azure Tenant Portal to see if a given application is registered to use AAD Graph.</span></span>

### <a name="how-do-i-know-which-apis-my-applications-are-calling"></a><span data-ttu-id="413e9-139">如何知道应用程序正在调用哪些 API？</span><span class="sxs-lookup"><span data-stu-id="413e9-139">How do I know which APIs my applications are calling?</span></span>
<span data-ttu-id="413e9-140">如果你有应用程序的源代码，可以参考本部分中的迁移指南，以帮助确定应用使用哪些 API 以及如何将其迁移到 Microsoft Graph。</span><span class="sxs-lookup"><span data-stu-id="413e9-140">If you have the source code for the application, you can reference the migration guides in this section to help determine which APIs the app uses and how to migrate it to Microsoft Graph.</span></span> <span data-ttu-id="413e9-141">如果无法访问应用程序的源代码，可以打开支持请求，获取每个应用程序调用的[](developer-support-help-options.md#open-a-support-request)API 列表。</span><span class="sxs-lookup"><span data-stu-id="413e9-141">If you do not have access to your application's source code, you can [open a support request](developer-support-help-options.md#open-a-support-request) to get a list of the APIs each application is calling.</span></span>

### <a name="will-my-existing-aad-graph-apps-continue-to-work"></a><span data-ttu-id="413e9-142">我现有的 AAD Graph应用会继续工作吗？</span><span class="sxs-lookup"><span data-stu-id="413e9-142">Will my existing AAD Graph apps continue to work?</span></span> 
<span data-ttu-id="413e9-143">在 2022 年 6 月 30 日之前，现有应用将继续工作，无需修改。</span><span class="sxs-lookup"><span data-stu-id="413e9-143">Your existing apps will continue to work without modification until June 30th, 2022.</span></span> <span data-ttu-id="413e9-144">AAD Graph API 函数和行为在此时间之后不保证。</span><span class="sxs-lookup"><span data-stu-id="413e9-144">AAD Graph API function and behavior after that time is not guaranteed.</span></span>

### <a name="why-should-i-invest-in-moving-to-microsoft-graph"></a><span data-ttu-id="413e9-145">为什么应投资迁移到 Microsoft Graph？</span><span class="sxs-lookup"><span data-stu-id="413e9-145">Why should I invest in moving to Microsoft Graph?</span></span>  
<span data-ttu-id="413e9-146">Microsoft Graph 是 Microsoft 365 中通往数据和智能的网关。</span><span class="sxs-lookup"><span data-stu-id="413e9-146">Microsoft Graph is the gateway to data and intelligence in Microsoft 365.</span></span> <span data-ttu-id="413e9-147">它提供了一个统一的可编程模型，可用于访问 Microsoft 365、Azure、Windows 10 和 企业移动性 + 安全性 中的大量数据集和功能。</span><span class="sxs-lookup"><span data-stu-id="413e9-147">It provides a unified programmability model that you can use to access the tremendous amount of datasets and features in Microsoft 365, Azure, Windows 10, and Enterprise Mobility + Security.</span></span> <span data-ttu-id="413e9-148">你可以利用 Microsoft Graph中丰富的数据来为任何规模的组织构建和管理应用。</span><span class="sxs-lookup"><span data-stu-id="413e9-148">You can use the wealth of data in Microsoft Graph to build and manage apps for organizations of any scale.</span></span>

### <a name="will-you-release-a-tool-that-helps-me-move-my-apps-from-aad-graph-to-microsoft-graph"></a><span data-ttu-id="413e9-149">你发布一个工具来帮助我将我的应用从 AAD Graph Microsoft Graph？</span><span class="sxs-lookup"><span data-stu-id="413e9-149">Will you release a tool that helps me move my apps from AAD Graph to Microsoft Graph?</span></span>  
<span data-ttu-id="413e9-150">虽然我们目前没有任何要宣布的工具，但我们始终致力于改进开发人员的平台体验。</span><span class="sxs-lookup"><span data-stu-id="413e9-150">While we do not have any tools to announce at this time, we are always working on improving our developers' platform experience.</span></span> <span data-ttu-id="413e9-151">这包括提供工具和数据，以帮助使应用程序通过 API 更改保持最新。</span><span class="sxs-lookup"><span data-stu-id="413e9-151">This includes providing tooling and data to facilitate keeping your applications current with API changes.</span></span>

### <a name="how-do-i-get-help-migrating-my-application"></a><span data-ttu-id="413e9-152">如何获取有关迁移我的应用程序的帮助？</span><span class="sxs-lookup"><span data-stu-id="413e9-152">How do I get help migrating my application?</span></span>  
<span data-ttu-id="413e9-153">请参阅本文的"下一步"部分。</span><span class="sxs-lookup"><span data-stu-id="413e9-153">See the Next Steps section of this article.</span></span> <span data-ttu-id="413e9-154">如果你在阅读后有其他问题，可以使用 标记在 Stack Overflow 上发布，或在 API GitHub `[aadgraph-deprecation]` [库中打开问题](https://github.com/microsoftgraph)。</span><span class="sxs-lookup"><span data-stu-id="413e9-154">If after reading you have additional questions, you can post on Stack Overflow with the tag `[aadgraph-deprecation]` or open an issue in the API's [GitHub repository](https://github.com/microsoftgraph).</span></span>


## <a name="next-steps"></a><span data-ttu-id="413e9-155">后续步骤</span><span class="sxs-lookup"><span data-stu-id="413e9-155">Next Steps</span></span>

- <span data-ttu-id="413e9-156">演练应用 [迁移清单](migrate-azure-ad-graph-planning-checklist.md) ，帮助你规划移动。</span><span class="sxs-lookup"><span data-stu-id="413e9-156">Walk through the [app migration checklist](migrate-azure-ad-graph-planning-checklist.md) to help you plan the move.</span></span>
- <span data-ttu-id="413e9-157">了解[Microsoft Graph](/graph/overview)概念和做法。</span><span class="sxs-lookup"><span data-stu-id="413e9-157">Explore [Microsoft Graph](/graph/overview) concepts and practices.</span></span>
- <span data-ttu-id="413e9-158">使用[Graph资源管理器](https://aka.ms/ge)尝试 Microsoft Graph。</span><span class="sxs-lookup"><span data-stu-id="413e9-158">Use [Graph Explorer](https://aka.ms/ge) to experiment with Microsoft Graph.</span></span>
- <span data-ttu-id="413e9-159">若要详细了解进度更新和日程表，请参阅[Microsoft Graph 或 Azure AD Graph。](https://developer.microsoft.com/graph/blogs/microsoft-graph-or-azure-ad-graph/)</span><span class="sxs-lookup"><span data-stu-id="413e9-159">To learn more about progress updates and timelines, see [Microsoft Graph or the Azure AD Graph](https://developer.microsoft.com/graph/blogs/microsoft-graph-or-azure-ad-graph/).</span></span>

