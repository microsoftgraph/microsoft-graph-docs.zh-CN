---
title: Microsoft Graph 中的设备中继 API（预览版）
description: '当今，人们每天都会与多个设备进行交互。 用户通常会在一个设备上开始生产任务和娱乐活动，并在另一个设备上继续进行。 为了满足客户的各种需求，你的应用需要能够无缝跨多个设备和平台。 '
localization_priority: Normal
author: davidmu1
ms.prod: cross-device-experiences
ms.openlocfilehash: f520c90eda15c9e571deb34865fdf81dd4954d50
ms.sourcegitcommit: 68b49fc847ceb1032a9cc9821a9ec0f7ac4abe44
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 03/20/2021
ms.locfileid: "50952485"
---
# <a name="device-relay-api-in-microsoft-graph-preview"></a><span data-ttu-id="b8fa4-105">Microsoft Graph 中的设备中继 API（预览版）</span><span class="sxs-lookup"><span data-stu-id="b8fa4-105">Device relay API in Microsoft Graph (preview)</span></span>

<span data-ttu-id="b8fa4-106">当今，人们每天都会与多个设备进行交互。</span><span class="sxs-lookup"><span data-stu-id="b8fa4-106">Today, people interact with multiple devices on a daily basis.</span></span> <span data-ttu-id="b8fa4-107">用户通常会在一个设备上开始生产任务和娱乐活动，并在另一个设备上继续进行。</span><span class="sxs-lookup"><span data-stu-id="b8fa4-107">Users often start productivity tasks and entertainment activities on one device and continue them on another.</span></span> <span data-ttu-id="b8fa4-108">为了满足客户的各种需求，你的应用需要能够无缝跨多个设备和平台。</span><span class="sxs-lookup"><span data-stu-id="b8fa4-108">To meet your customers' needs, your apps need to seamlessly span devices and platforms.</span></span> 

<span data-ttu-id="b8fa4-109">你可以使用设备中继 API 为用户提供无缝体验，</span><span class="sxs-lookup"><span data-stu-id="b8fa4-109">You can use the device relay APIs to deliver seamless experiences to your users.</span></span> <span data-ttu-id="b8fa4-110">让他们积极地将体验从一个设备转移到另一个设备，或者一次使用多个设备提升体验。</span><span class="sxs-lookup"><span data-stu-id="b8fa4-110">You can make it possible for them to actively transfer an experience from one device to another or enhance it by using multiple devices at once.</span></span> <span data-ttu-id="b8fa4-111">这可以通过应用内操作（应用中的按钮或选择）来完成，通过调用设备中继 API 来发现用户设备，并使其能够在其他设备上启动和向应用发送消息。</span><span class="sxs-lookup"><span data-stu-id="b8fa4-111">This is done via in-app actions (a button or selection in your app) that call the device relay API to discover users' devices, and enable them to launch and message your app on those other devices.</span></span>

## <a name="why-integrate-with-device-relay"></a><span data-ttu-id="b8fa4-112">为什么与设备中继集成？</span><span class="sxs-lookup"><span data-stu-id="b8fa4-112">Why integrate with device relay?</span></span>

<span data-ttu-id="b8fa4-113">设备中继 API 能够让应用自行注册，并在用户设备上发现、命令应用以及向其发送消息。</span><span class="sxs-lookup"><span data-stu-id="b8fa4-113">The device relay API enables your app to register itself, and discover, command, and message your app on the user's devices.</span></span> <span data-ttu-id="b8fa4-114">通过集成，你可以将客户所处理的任务置于中心焦点。</span><span class="sxs-lookup"><span data-stu-id="b8fa4-114">By doing this, you can make the tasks your customers work on the central focus.</span></span> <span data-ttu-id="b8fa4-115">通过发现设备并将任务转移到该设备上，客户即可在他们最为便捷的设备上继续工作。</span><span class="sxs-lookup"><span data-stu-id="b8fa4-115">They can work on the device that is most convenient for them by discovering it and transferring tasks to it.</span></span> <span data-ttu-id="b8fa4-116">另外，他们还可以通过使用周围的其他设备来增强应用的持续体验。</span><span class="sxs-lookup"><span data-stu-id="b8fa4-116">They can also enhance an ongoing experience with your app by using other devices around them.</span></span>

<span data-ttu-id="b8fa4-117">你可以将设备中继 API 用于配套设备或远程控制应用场景。</span><span class="sxs-lookup"><span data-stu-id="b8fa4-117">You can use the device relay API for companion devices, or remote control scenarios.</span></span> <span data-ttu-id="b8fa4-118">使用消息功能在两台设备之间创建应用频道以发送和接收自定义消息。</span><span class="sxs-lookup"><span data-stu-id="b8fa4-118">Use the messaging capabilities to create an app channel between two devices to send and receive custom messages.</span></span> <span data-ttu-id="b8fa4-119">例如，可以让客户使用自己的手机控制电视的播放。</span><span class="sxs-lookup"><span data-stu-id="b8fa4-119">For example, you can enable your customers to use their phone to control playback on a TV.</span></span> <span data-ttu-id="b8fa4-120">而且，当用户在 PC 上处理应用的主视图时，通过在手机上显示基于上下文的常用操作，还可以在工作效率场景中提供配套应用。</span><span class="sxs-lookup"><span data-stu-id="b8fa4-120">You could also provide a companion app in a productivity scenario by displaying context-based commonly used actions on a phone while your users work on the main view of your app in the PC.</span></span>

<span data-ttu-id="b8fa4-121">通过在应用中执行操作，客户还可以主动将体验从一个设备转移到另一个设备。</span><span class="sxs-lookup"><span data-stu-id="b8fa4-121">Your customers can also actively transfer an experience from one device to another by performing an action in your app.</span></span> <span data-ttu-id="b8fa4-122">例如，某位用户在公交车上用手机在观看现场直播，但当她到家后，她可能想要转到客厅中的电脑上播放。</span><span class="sxs-lookup"><span data-stu-id="b8fa4-122">For example, a user might be watching a live broadcast on her phone while on the bus, but when she gets home she wants to transfer playback to the PC in her living room.</span></span> <span data-ttu-id="b8fa4-123">设备中继也支持工作效率应用场景。</span><span class="sxs-lookup"><span data-stu-id="b8fa4-123">Productivity scenarios are also supported by device relay.</span></span> 

### <a name="extend-the-experience"></a><span data-ttu-id="b8fa4-124">扩展体验</span><span class="sxs-lookup"><span data-stu-id="b8fa4-124">Extend the experience</span></span>

<span data-ttu-id="b8fa4-125">通过提供 UX 来发现设备并在这些设备上启动应用，从而扩展应用。</span><span class="sxs-lookup"><span data-stu-id="b8fa4-125">Extend your app by providing UX to discover devices and to launch your app on those devices.</span></span> <span data-ttu-id="b8fa4-126">例如，用户可以在她的手机上处理采购订单，在她的办公室发现 PC，并在其上启动应用来完成采购订单输入。</span><span class="sxs-lookup"><span data-stu-id="b8fa4-126">For example, the user could be working on a purchase order on her phone, discover the PC in her office, and launch the app there to finish entering the purchase order.</span></span>  

### <a name="augment-the-experience"></a><span data-ttu-id="b8fa4-127">增强体验</span><span class="sxs-lookup"><span data-stu-id="b8fa4-127">Augment the experience</span></span>

<span data-ttu-id="b8fa4-128">在用户的另一个设备上为应用创建配套体验。</span><span class="sxs-lookup"><span data-stu-id="b8fa4-128">Create a companion experience for your app on another of the user’s devices.</span></span> <span data-ttu-id="b8fa4-129">例如，应用可以包含 UX 以在其他设备上自启动。</span><span class="sxs-lookup"><span data-stu-id="b8fa4-129">For example, the app could include UX to launch itself on other devices.</span></span> <span data-ttu-id="b8fa4-130">在游戏中，用户可以将应用启动到有较大屏幕的设备上（例如，从 PC 到 Xbox）。</span><span class="sxs-lookup"><span data-stu-id="b8fa4-130">In a game, the user could launch the app to a device with a larger screen (for example, from a PC to an Xbox).</span></span> <span data-ttu-id="b8fa4-131">Xbox 可以呈现游戏的完整视图（第一人称视角），而屏幕较小的设备可以呈现不同的视角和附加背景（游戏关卡的顶级视角，显示玩家与对手的位置）。</span><span class="sxs-lookup"><span data-stu-id="b8fa4-131">The Xbox could present a full view of the game (a first-person view), while the device with the smaller screen could present a different view with additional context (a top-level view of the game level showing the player and opponents' locations).</span></span>  

### <a name="enrich-the-experience"></a><span data-ttu-id="b8fa4-132">丰富体验</span><span class="sxs-lookup"><span data-stu-id="b8fa4-132">Enrich the experience</span></span>

<span data-ttu-id="b8fa4-133">为应用添加其他控制功能。</span><span class="sxs-lookup"><span data-stu-id="b8fa4-133">Add additional controlling abilities to your app.</span></span> <span data-ttu-id="b8fa4-134">例如，从配套设备为主应用提供远程控制功能。</span><span class="sxs-lookup"><span data-stu-id="b8fa4-134">For example, provide remote control abilities for the main app from a companion device.</span></span> <span data-ttu-id="b8fa4-135">当用户将应用从一个设备启动到另一个设备时，目标设备可以显示完整体验（例如，设计应用中的 3D 模型），而源设备可以显示目标设备上给定应用状态的最常用操作的列表（例如旋转、调整大小、调色板）。</span><span class="sxs-lookup"><span data-stu-id="b8fa4-135">When the user launches an app from one device to another, the target device could show the full experience (for example, a 3D model in a design app), while the source device could show a list of the most common actions given the state of the app on the target device (for example, rotate, resize, color palette).</span></span>

## <a name="see-also"></a><span data-ttu-id="b8fa4-136">另请参阅</span><span class="sxs-lookup"><span data-stu-id="b8fa4-136">See also</span></span>

- [<span data-ttu-id="b8fa4-137">Microsoft Graph 中的跨设备体验</span><span class="sxs-lookup"><span data-stu-id="b8fa4-137">Cross-device experiences in Microsoft Graph</span></span>](cross-device-concept-overview.md)
- [<span data-ttu-id="b8fa4-138">详细了解设备中继 API</span><span class="sxs-lookup"><span data-stu-id="b8fa4-138">Learn more about the device relay API</span></span>](/graph/api/resources/project-rome-overview?view=graph-rest-beta)
- [<span data-ttu-id="b8fa4-139">详细了解 Project Rome</span><span class="sxs-lookup"><span data-stu-id="b8fa4-139">Learn more about Project Rome</span></span>](/windows/project-rome/)